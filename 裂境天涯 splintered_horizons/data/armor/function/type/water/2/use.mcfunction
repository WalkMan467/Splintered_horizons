execute if predicate armor:type/water/2 if items entity @s armor.chest *[custom_data~{water:1b}] run function armor:type/water/2/effect

advancement revoke @s only armor:type/water/2/use