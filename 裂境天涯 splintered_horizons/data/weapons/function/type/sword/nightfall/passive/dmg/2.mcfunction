
# player
tag @s remove weapon.nightfall.charger
function weapons:type/sword/nightfall/passive/dmg/hurt

# sys
scoreboard players add #id weapon.nightfall.charge 1
summon marker ~ ~1 ~ {Tags:["weapon.nightfall.p","1","summon"]}
summon minecraft:block_display ^ ^1 ^4 {Tags:["weapon.nightfall.p","2","summon"],Passengers: [{block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.7071068f, 0.0f, 0.0f, 0.7071068f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0000001f, 0.99999994f, 9.999998E-4f], translation: [-0.5f, 0.0f, -0.0625f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.49561775f, -0.5043442f, 0.5043442f, 0.49561775f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0f, 0.9999998f, 9.999998E-4f], translation: [0.071150064f, 0.0625f, -0.49119768f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.0f, -0.7071068f, 0.7071068f, 0.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0f, 0.9999999f, 9.999996E-4f], translation: [0.5f, 0.0f, 0.0625f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.5043442f, 0.49561772f, -0.49561772f, 0.5043442f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.99999994f, 0.99999976f, 9.999996E-4f], translation: [-0.071150005f, 0.0f, 0.49119765f]}}], block_state: {Name: "minecraft:fire_coral_block", Properties: {crafting: "false", orientation: "north_up", triggered: "false"}}, brightness: {block: 15, sky: 15}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.001f, 0.5f, 1.001f], translation: [-0.5f, -0.25f, -0.5f]}}
summon minecraft:block_display ^ ^1 ^-4 {Tags:["weapon.nightfall.p","2","3","summon"],Passengers: [{block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.7071068f, 0.0f, 0.0f, 0.7071068f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0000001f, 0.99999994f, 9.999998E-4f], translation: [-0.5f, 0.0f, -0.0625f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.49561775f, -0.5043442f, 0.5043442f, 0.49561775f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0f, 0.9999998f, 9.999998E-4f], translation: [0.071150064f, 0.0625f, -0.49119768f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.0f, -0.7071068f, 0.7071068f, 0.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.0f, 0.9999999f, 9.999996E-4f], translation: [0.5f, 0.0f, 0.0625f]}}, {block_state: {Name: "minecraft:stonecutter", Properties: {facing: "north"}}, brightness: {block: 15, sky: 15}, id: "minecraft:block_display", transformation: {left_rotation: [0.5043442f, 0.49561772f, -0.49561772f, 0.5043442f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.99999994f, 0.99999976f, 9.999996E-4f], translation: [-0.071150005f, 0.0f, 0.49119765f]}}], block_state: {Name: "minecraft:fire_coral_block", Properties: {crafting: "false", orientation: "north_up", triggered: "false"}}, brightness: {block: 15, sky: 15}, transformation: {left_rotation: [0.0f, 0.0f, 0.0f, 1.0f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [1.001f, 0.5f, 1.001f], translation: [-0.5f, -0.25f, -0.5f]}}

summon block_display ^ ^1 ^-4 {Tags:["weapon.nightfall.p","2","3","summon"],Passengers:[{id:"minecraft:item_display",item:{id:"minecraft:red_glazed_terracotta"},teleport_duration:1,transformation:[-0.5000f,0.0000f,-0.0000f,0.2500f,0.0000f,0.5000f,0.0000f,-0.1875f,0.0000f,0.0000f,-0.5000f,1.1250f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:item_display",item:{id:"minecraft:dead_brain_coral_fan"},teleport_duration:1,transformation:[0.0000f,-2.0000f,0.0000f,-1.0000f,0.0000f,-0.0000f,-2.0000f,0.0000f,2.0000f,0.0000f,0.0000f,-0.0625f,0.0000f,0.0000f,0.0000f,1.0000f]}],teleport_duration:1}
scoreboard players operation @e[tag=weapon.nightfall.p,tag=summon] weapon.nightfall.charge = #id weapon.nightfall.charge

execute as @e[tag=weapon.nightfall.p,tag=summon,type=block_display] on passengers run scoreboard players set @s duration 13

# particle
playsound minecraft:item.trident.thunder master @a ~ ~ ~ 0.5 2

tag @e[tag=summon,tag=weapon.nightfall.p] remove summon