
execute \
    if entity @s[tag=player.elytra_switch] run \
return 0

tag @s add player.elytra_switch

function players:inventory/save {bag:"overworld"}

particle minecraft:flash{color:[1.000,1.000,1.000,1.00]} ~ ~ ~ 0.5 0.5 0.5 0 20 normal @a[scores={main.light_sensitivity=0}]
playsound minecraft:block.respawn_anchor.set_spawn voice @s ~ ~ ~ 9999 1.5
playsound minecraft:entity.generic.explode voice @s ~ ~ ~ 9999 1

title @s times 10 20 20
title @s title [{"color":"#4CB6C2","fallback":"Êïñ","translate":"player.elytra_switch.1"},{"color":"#4BA5C2","fallback":"Áøî","translate":"player.elytra_switch.2"},{"color":"#4A95C2","text":" üëÅ "},{"color":"#4884C2","fallback":"Â§©","translate":"player.elytra_switch.3"},{"color":"#4663C2","fallback":"Èöõ","translate":"player.elytra_switch.4"}]
title @s subtitle [{"translate":"tips.player.elytra_switch.1","fallback":"Êåâ ","color": "red"},{"keybind": "key.jump","color": "green"},{"translate":"tips.player.elytra_switch.2","fallback":" Âç≥ÂèØÈ£õË°å","color": "red"}]

scoreboard players reset #airborne.range global.main


effect give @s slow_falling 2 1 true
scoreboard players set @s player.animation.lock 2147483647
clear @s *
item replace entity @s armor.chest with elytra[unbreakable={},tooltip_display={hide_tooltip:true},equippable={slot:"chest",asset_id:"air"},custom_data={elytra_switch:1b,disable_drop:1b},enchantment_glint_override=false,enchantments={"minecraft:binding_curse":1}] 1
item replace entity @s weapon.offhand with firework_rocket[tooltip_display={hide_tooltip:true},custom_data={elytra_switch:1b,disable_drop:1b},fireworks={flight_duration:1}] 1

item replace entity @s armor.head with disc_fragment_5[enchantment_glint_override=false,enchantments={"minecraft:binding_curse":1},equippable={slot:"head",equip_sound:"entity.chicken.step"},item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
item replace entity @s armor.legs with disc_fragment_5[enchantment_glint_override=false,enchantments={"minecraft:binding_curse":1},equippable={slot:"legs",equip_sound:"entity.chicken.step"},item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
item replace entity @s armor.feet with disc_fragment_5[enchantment_glint_override=false,enchantments={"minecraft:binding_curse":1},equippable={slot:"feet",equip_sound:"entity.chicken.step"},item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1

give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1
give @p iron_sword[item_model="disable_icon",tooltip_display={hide_tooltip:true},custom_data={disable_drop:1b},attribute_modifiers=[{id:"attack_damage",type:"attack_damage",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"},{id:"attack_speed",type:"attack_speed",amount:0.0,operation:"add_multiplied_base",slot:"mainhand"}]] 1

advancement revoke @s only players:elytra_switch/false