$scoreboard players set @s player.hide $(duration)
function players:detect/gamemode
gamemode spectator @s